@model Application.DTO.Frontend.PhoneDto

@{
    ViewBag.Title = "Customer Phone Specifications";
    Layout = "_Layout";

    var phone = @Model;

}

<form asp-controller="Customer" asp-action="SubscribePrice" method="post">
    <input type="hidden" name="BrandSlug" value="@phone.BrandSlug"/>
    <input type="hidden" name="PhoneSlug" value="@phone.PhoneSlug"/>
    <p>
        <label>
            <b>Subscribe to a Price change:</b>
        </label>
        <input type="email" placeholder="Email" name="Email"/>
        <input type="submit" value="Subscribe"/>
    </p>
</form>

<hr/>


@if (@phone.Stock <= 0)
{
    <form asp-controller="Customer" asp-action="SubscribeStock" method="post">
        <input type="hidden" name="BrandSlug" value="@phone.BrandSlug"/>
        <input type="hidden" name="PhoneSlug" value="@phone.PhoneSlug"/>
        <p>
            <label>
                <b>Subscribe to a Stock change:</b>
            </label>
            <input type="email" placeholder="Email" name="Email"/>
            <input type="submit" value="Subscribe"/>
        </p>
    </form>
}

<hr/>

<h2>Customer Phone Specifications</h2>

<div>
    <b>Price:</b> @phone.Price
</div>

<div>
    <b>Stock:</b> @phone.Stock
</div>

@foreach (var image in @phone.Images)
{
    <img src="@image" alt="x" style="width: 200px"/>
}
<br/>

@if (@phone.Thumbnail != string.Empty)
{
    <img src="@phone.Thumbnail" alt="x"/>
}

<br/>
<br/>

<div>
    <b>Brand:</b> @phone.BrandSlug
</div>
<div>
    <b>Phone_name:</b> @phone.PhoneName
</div>
<div>
    <b>Release_date:</b> @phone.ReleaseDate
</div>
<div>
    <b>Dimension:</b> @phone.Dimension
</div>
<div>
    <b>Os:</b> @phone.Os
</div>
<div>
    <b>Storage:</b> @phone.Storage
</div>

@foreach (var v in phone.Specifications)
{
    <hr/>
    <b>@v.Title</b>
    <br/>
    foreach (var spec in v.Specs)
    {
        <b>@spec.Key:</b>
        <br/>
        foreach (var sval in spec.Val)
        {
            @sval
            <br/>
        }
    }
}